version: 2
models:
  - name: users

    meta:
      joins:
        - join: accounts
          sql_on: ${users.account_id} = ${accounts.account_id}
          type: left

    columns:
      - name: user_id
        description: "The unique identifier for a user"
        meta:
          dimension:
            type: string
      - name: account_id
        description: "The unique identifier for an account"
        meta:
          dimension:
            type: string
      - name: email
        description: "The email of the user"
        meta:
          dimension:
            type: string
      - name: job_title
        description: "The job title of the given user"
        meta:
          dimension:
            type: string
      - name: is_marketing_opted_in
        description: "Whether the user is currently opted into marketing"
        meta:
          dimension:
            type: number
      - name: created_at
        description: "Timestamp of when the user was created"
        meta:
          dimension:
            type: timestamp
      - name: first_logged_in_at
        description: "Timestamp of the first login of the user"
        meta:
          dimension:
            type: timestamp
      - name: latest_logged_in_at
        description: "Timestamp showing the latest date that the given user logged in"
        meta:
          dimension:
            type: timestamp
